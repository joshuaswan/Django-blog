<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>创建节点信息</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap-responsive.css">
    <script src="../bootstrap/js/bootstrap.js"></script>
    <script src="../vue/vue.js"></script>
    <script src="../vue/vue-resource.js"></script>
</head>
<body>
<div id="app">
    <form action="" role="form" @submit.prevent="createNode">
        <div class="form-group">
            <label for="name">节点名称</label>
            <input type="text" class="form-control" v-model="node.name" placeholder="请输入节点名称">
            <span>name:{{ node.name }}</span>
        </div>
        <div class="form-group">
            <label for="details">节点描述</label>
            <textarea name="details" cols="30" rows="10" v-model="node.details" placeholder="请输入节点描述信息"></textarea>
            <span>details: {{ node.details }}</span>
        </div>
        <div class="form-group">
            <label for="input_code">节点输入码</label>
            <input type="text" v-model="node.input_code">
            <span>input_code:{{ node.input_code }}</span>
        </div>
        <div class="form-group">
            <label for="node_order">节点排序号</label>
            <input type="number" v-model="node.node_order">
            <span>node_order:{{ node.node_order }}</span>
        </div>
        <input type="submit" value="提交">
        {#        <button class="btn" v-on:click="createNode">提交节点信息</button>#}
    </form>
</div>
</body>
<script>
    new Vue({
        el: '#app',
        data: {
            node: {
                node_id: null,
                name: '',
                details: '',
                parent_id: 0,
                input_code: '',
                node_order: 0
            }
        },
        node: this.node,
        methods: {
            createNode: function () {
                console.log("createNode")
                this.$nextTick(function () {
                    this.$http.post('/maintain/createNode', this.node).then(function (res) {
                        console.log(res)
                    }).error(function (data, status, request) {
                        
                    })
                })
            }
        }
    })
</script>
</html>